---
title: Variables integradas de secuencia de tareas
titleSuffix: Configuration Manager
description: Las variables integradas de secuencia de tareas proporcionan información sobre el entorno en que se ejecuta la secuencia de tareas y están disponibles durante la secuencia de tareas completa.
ms.date: 04/18/2018
ms.prod: configuration-manager
ms.technology: configmgr-osd
ms.topic: conceptual
ms.assetid: 02bc6bd4-ca53-4e22-8b80-d8ee5fe72567
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: d3ea1b35c5f220155cecafddaf3a2ff1acf5ed53
ms.sourcegitcommit: 0b0c2735c4ed822731ae069b4cc1380e89e78933
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 05/03/2018
---
# <a name="task-sequence-built-in-variables-in-system-center-configuration-manager"></a>Variables integradas de secuencias de tareas en System Center Configuration Manager

*Se aplica a: System Center Configuration Manager (Rama actual)*


 System Center Configuration Manager proporciona las variables integradas de secuencias de tareas. Las variables integradas proporcionan información sobre el entorno donde se ejecuta la secuencia de tareas, y sus valores están disponibles en la secuencia de tareas completa. Las variables integradas se suelen inicializar antes de que se ejecuten los pasos de la secuencia de tareas. Por ejemplo, la variable integrada **_SMSTSLogPath** es una variable de entorno que especifica la ruta de acceso que los componentes de Configuration Manager usan para escribir archivos de registro. Cualquier paso de secuencia de tareas puede tener acceso a esta variable de entorno. Sin embargo, antes de cada paso, la secuencia de tareas evalúa algunas de las variables, como **&#95;SMSTSCurrentActionName**. Los valores son de solo lectura en el caso de las variables integradas con un nombre que comienza por un carácter de subrayado.  

## <a name="task-sequence-built-in-variable-list"></a>Lista de variables integradas de tarea secuencia  
 En la siguiente lista, se describen las variables integradas que están disponibles en Configuration Manager:  

|Nombre de la variable integrada|Descripción|  
|-----------------------------|-----------------|  
|_OSDDetectedWinDir|La secuencia de tareas examina las unidades de disco duro del equipo para ver si existe una instalación anterior del sistema operativo cuando se inicia Windows PE. La ubicación de la carpeta de Windows se almacena en esta variable. Puede configurar la secuencia de tareas para recuperar este valor del entorno y utilizarlo para especificar la misma ubicación de carpeta de Windows para la nueva instalación del sistema operativo.|  
|_OSDDetectedWinDrive|La secuencia de tareas examina las unidades de disco duro del equipo para ver si existe una instalación anterior del sistema operativo cuando se inicia Windows PE. La ubicación de la unidad de disco duro donde está instalado el sistema operativo se almacena en esta variable. Puede configurar la secuencia de tareas para recuperar este valor del entorno y utilizarlo para especificar la misma ubicación de unidad de disco duro para el nuevo sistema operativo.|  
|_SMSTSAdvertID|Almacena el id. único de implementación de secuencia de tareas en ejecución. Usa el mismo formato que un identificador de implementación de distribución de software de Configuration Manager. Si la secuencia de tareas se está ejecutando desde un medio independiente, esta variable no se define.<br /><br /> Ejemplo:<br /><br /> **ABC20001**|  
|_TSAppInstallStatus|La secuencia de tareas establece la variable _TSAppInstallStatus con el estado de la instalación de la aplicación durante el paso [Instalar aplicación](task-sequence-steps.md#BKMK_InstallApplication). La secuencia de tareas establece la variable con uno de los siguientes valores:<br /><br /> 1. **Sin definir**: no se ha ejecutado el paso Instalar aplicación.<br />2. **Error**: al menos una aplicación genera error durante el paso Instalar aplicación.<br />3. **Advertencia**: no se producen errores durante el paso Instalar aplicación. Una o varias aplicaciones (o una dependencia necesaria) no se instalaron porque no se cumplió un requisito.<br />4. **Correcto**: no se detectaron errores ni advertencias durante el paso Instalar aplicación.|  
|_SMSTSBootImageID|Si la secuencia de tareas que se ejecuta actualmente hace referencia a un paquete de imagen de arranque, esta variable almacena el identificador del paquete de imagen de arranque. Si la secuencia de tareas no hace referencia a un paquete de imagen de arranque, no se establece esta variable.<br /><br /> Ejemplo:<br /><br /> **ABC00001**|  
|_SMSTSBootUEFI|La secuencia de tareas establece la variable _SMSTSBootUEFI cuando detecta un equipo que está en modo UEFI.|  
|_SMSTSClientGUID|Almacena el valor del GUID del cliente de Configuration Manager. Esta variable no se establece si la secuencia de tareas se está ejecutando desde un medio independiente.<br /><br /> Ejemplo:<br /><br /> **0a1a9a4b-fc56-44f6-b7cd-c3f8ee37c04c**|  
|_SMSTSCurrentActionName|Especifica el nombre del paso de la secuencia de tareas actualmente en ejecución. Esta variable se establece antes de que el administrador de la secuencia de tareas ejecute cada paso individual.<br /><br /> Ejemplo:<br /><br /> **ejecutar línea de comandos**|  
|_SMSTSDownloadOnDemand|Si la secuencia de tareas se ejecuta en modo de descarga a petición, esta variable es **true**. El modo de descarga a petición significa que el administrador de la secuencia de tareas descarga contenido localmente solo cuando debe acceder al contenido.|  
|_SMSTSInWinPE|Si el paso de secuencia de tareas actual se ejecuta en Windows PE, esta variable es **true**. Pruebe esta variable de secuencia de tareas para saber cuál es el entorno de sistema operativo actual.|  
|_SMSTSLastActionRetCode|Almacena el código de retorno devuelto por la última acción que se ha ejecutado. Esta variable se puede usar como una condición para saber si el siguiente paso se ejecuta.<br /><br /> Ejemplo:<br /><br /> **0**|  
|_SMSTSLastActionSucceeded|Si el último paso se completó correctamente, esta variable es **true**. Si se produce un error en el último paso, es **false**. Si la secuencia de tareas omitió la última acción debido a que el paso está deshabilitado o la condición asociada se evaluó como **false**, esta variable no se restablece y sigue teniendo el valor de la acción anterior.|  
|_SMSTSLaunchMode|Especifica uno de los siguientes métodos de inicio de secuencia de tareas:<br /><br /> -   **SMS**: la secuencia de tareas se inició desde el cliente de Configuration Manager.<br />-   **UFD**: la secuencia de tareas se inició desde un medio USB heredado.<br />-   **UFD+FORMATO**: la secuencia de tareas se inició desde un medio USB más reciente.<br />-   **CD**: la secuencia de tareas se inició desde un CD.<br />-   **DVD**: la secuencia de tareas se inició desde un DVD.<br />-   **PXE**: la secuencia de tareas se inició desde PXE.<br />-   **HD**: la secuencia de tareas se inició desde un medio preconfigurado en un disco duro.|  
|_SMSTSLogPath|Almacena la ruta de acceso completa del directorio de registro. Utilice este valor para determinar dónde se registran las acciones. Este valor no se establece si no hay una unidad de disco duro disponible.|  
|_SMSTSMachineName|Almacena y especifica el nombre del equipo. Almacena el nombre del equipo que la secuencia de tareas utiliza para registrar todos los mensajes de estado. Para cambiar el nombre del equipo en el nuevo sistema operativo, use la variable **OSDComputerName** .<br /><br /> Ejemplo:<br /><br /> **ABC**|  
|_SMSTSMDataPath|Especifica la ruta de acceso definida por la variable SMSTSLocalDataDrive. Si SMSTSLocalDataDrive se define antes de iniciar la secuencia de tareas (por ejemplo, al establecer una variable de la recopilación), Configuration Manager define la variable _SMSTSMDataPath después de que se inicie la secuencia de tareas.|  
|_SMSTSMediaType|Especifica el tipo de medio que se usa para iniciar la instalación. Algunos ejemplos de tipos de medios son medios de arranque, medios completos, PXE y medios preconfigurados.|  
|_SMSTSMP|Almacena la dirección URL o IP de un punto de administración de Configuration Manager.|  
|_SMSTSMPPort|Almacena el número de puerto de un punto de administración de Configuration Manager.<br /><br /> Ejemplo:<br /><br /> **80**|  
|_SMSTSOrgName|Almacena el nombre del título de personalización de marca que la secuencia de tareas muestra en el cuadro de diálogo de progreso.<br /><br /> Ejemplo:<br /><br /> **Organización XYZ**|  
|_SMSTSOSUpgradeActionReturnCode|Almacena el valor de código de salida devuelto por el programa de instalación de Windows que indica si la operación se ha realizado correctamente o no. Esta variable se establece durante el paso de secuencia de tareas [Actualizar el sistema operativo](task-sequence-steps.md#BKMK_UpgradeOS). Esta variable es útil con la opción de línea de comandos /Compat.<br /><br /> Ejemplo:<br /><br /> Al completarse /Compat, se realizan acciones en pasos posteriores en función de si el código de salida es correcto o incorrecto. Si se ejecuta correctamente, inicie la actualización. O bien, establezca un marcador en el entorno (por ejemplo, agregue un archivo o establezca una clave del Registro) para recopilarlo con el inventario de hardware. Utilice este marcador para crear una colección de equipos que estén preparados para actualizarse o que requieran una acción antes de la actualización.|  
|_SMSTSPackageID|Almacena el identificador de la secuencia de tareas que se ejecuta actualmente. Este identificador usa el mismo formato que un identificador de paquete de software de Configuration Manager.<br /><br /> Ejemplo:<br /><br /> **HJT00001**|  
|_SMSTSPackageName|Almacena el nombre de la secuencia de tareas que se ejecuta actualmente, especificado por el administrador de Configuration Manager al crear la secuencia de tareas.<br /><br /> Ejemplo:<br /><br /> **Implementar secuencia de tareas de Windows 10**|  
|_SMSTSSetupRollback|Especifica si el programa de instalación del sistema operativo realizó una operación de reversión. Los valores de la variable pueden ser **true** o **false**.|  
|_SMSTSRunFromDP|Se establece en **true** si la secuencia de tareas actual se ejecuta en modo de ejecución desde un punto de distribución, lo que significa que el administrador de la secuencia de tareas obtiene los recursos compartidos de paquete necesarios del punto de distribución.|  
|_SMSTSSiteCode|Almacena el código de sitio de Configuration Manager.<br /><br /> Ejemplo:<br /><br /> **ABC**|  
|_SMSTSType|Especifica el tipo de la secuencia de tareas que se ejecuta actualmente. Puede tener los siguientes valores:<br /><br /> **1** : indica una secuencia de tareas genérica.<br /><br /> **2** : indica una secuencia de tareas de implementación de sistema operativo.|  
|_SMSTSTimezone|La variable _SMSTSTimezone almacena la información de zona horaria con el siguiente formato (sin espacios):<br /><br /> Bias, StandardBias, DaylightBias, StandardDate.wYear, wMonth, wDayOfWeek, wDay, wHour, wMinute, wSecond, wMilliseconds, DaylightDate.wYear, wMonth, wDayOfWeek, wDay, wHour, wMinute, wSecond, wMilliseconds, StandardName, DaylightName<br /><br /> Ejemplo:<br /><br /> el valor de la hora del Este de EE.UU y Canadá sería **300,0,-60,0,11,0,1,2,0,0,0,0,3,0,2,2,0,0,0,Hora estándar del Este,Hora de verano del Este**|  
|_SMSTSUseCRL|Si la secuencia de tareas utiliza HTTPS para comunicarse con el punto de administración, especifica si usa la lista de revocación de certificados (CRL).|  
|_SMSTSUserStarted|Especifica si un usuario ha iniciado una secuencia de tareas. Esta variable se establece únicamente si la secuencia de tareas se ha iniciado desde el Centro de software. Por ejemplo, si **_SMSTSLaunchMode** está establecido en **SMS**. La variable puede tener los siguientes valores:<br /><br /> -   **true** : indica que un usuario inició la secuencia de tareas manualmente desde el Centro de software.<br />-   **false**: indica que el programador de Configuration Manager ha iniciado de forma automática la secuencia de tareas.|  
|_SMSTSUseSSL|Especifica si la secuencia de tareas usa SSL para comunicarse con el punto de administración de Configuration Manager. Si el sitio se ejecuta en modo nativo, el valor se establece en **true**.|  
|_SMSTSWTG|Especifica si el equipo se ejecuta como un dispositivo Windows To Go.|  
|OSDPreserveDriveLetter|Esta variable de secuencia de tareas está en desuso. Durante la implementación del sistema operativo, el programa de instalación de Windows determina, de forma predeterminada, cuál es la mejor letra de unidad (normalmente C:). <br /><br />Comportamiento anterior: al aplicar una imagen, la variable OSDPreverveDriveLetter determina si la secuencia de tareas utiliza la letra de unidad capturada en el archivo de imagen (.WIM). Establezca el valor de esta variable en **False** para usar la ubicación que especifique en el valor de **Destino** del paso de la secuencia de tareas **Aplicar el sistema operativo**. Para obtener más información, consulte [Aplicar imagen de sistema operativo](task-sequence-steps.md#BKMK_ApplyOperatingSystemImage).|  
|SMSTSAssignmentsDownloadInterval|Número de segundos que deben transcurrir antes de que el cliente intente descargar la directiva desde el último intento en el que no se devolvió ninguna directiva. De forma predeterminada, el cliente esperará **0** segundos.<br /><br /> Puede establecer esta variable mediante un comando de preinicio desde un medio o PXE.|  
|SMSTSAssignmentsDownloadRetry|Número de veces que un cliente intentará descargar la directiva después de que no se encontraran directivas en el primer intento. De forma predeterminada, el cliente lo reintenta **0** veces.<br /><br /> Puede establecer esta variable mediante un comando de preinicio desde un medio o PXE.|  
|SMSTSAssignUsersMode|Especifica el modo en que una secuencia de tareas asocia usuarios con el equipo de destino. Establezca la variable en uno de los siguientes valores:<br /><br /> -   **Auto**: la secuencia de tareas crea una relación entre los usuarios especificados y el equipo de destino cuando se implementa el sistema operativo en el equipo de destino.<br />-   **Pendiente**: la secuencia de tareas crea una relación entre los usuarios especificados y el equipo de destino. Un administrador debe aprobar la relación.<br />-   **Deshabilitado**: la secuencia de tareas no asocia usuarios al equipo de destino cuando se implementa el sistema operativo.|  
|SMSTSDownloadAbortCode|Esta variable contiene el valor del código de anulación para el descargador de programas externos (especificado en la variable SMSTSDownloadProgram). Si el programa devuelve un código de error igual al valor de la variable SMSTSDownloadAbortCode, se produce un error en la descarga de contenido y no se intenta ningún otro método de descarga.
|SMSTSDownloadProgram|Use esta variable para especificar un proveedor de contenido alternativo, un programa descargador que se use para descargar contenido en lugar del descargador de Configuration Manager predeterminado, para la secuencia de tareas. Como parte del proceso de descarga de contenido, la secuencia de tareas comprueba si la variable especifica algún programa de descarga. En caso afirmativo, la secuencia de tareas ejecuta el programa para realizar la descarga.|  
|SMSTSDownloadRetryCount|Número de veces que Configuration Manager intenta descargar contenido desde un punto de distribución. De forma predeterminada, el cliente lo reintenta **2** veces.|  
|SMSTSDownloadRetryDelay|Número de segundos que espera Configuration Manager antes de volver a intentar descargar contenido desde un punto de distribución. De forma predeterminada, el cliente esperará **15** segundos antes de volver a intentarlo.|
|SMSTSDriverReceiveTimeOut|Número de segundos antes de que la conexión al servidor agote el tiempo de espera.|
|SMSTSErrorDialogTimeout|Cuando se produce un error en una secuencia de tareas, muestra un cuadro de diálogo con el error. La secuencia de tareas lo descarta automáticamente después del número de segundos especificado por esta variable. De forma predeterminada, este valor es **900** segundos (15 minutos).|  
| TSDisableProgressUI | <!-- 1354291 --> A partir de la versión 1706 de Configuration Manager, use esta variable para controlar cuándo la secuencia de tareas muestra el progreso a los usuarios finales. Para ocultar o mostrar el progreso en momentos diferentes, establezca esta variable varias veces en una secuencia de tareas. Para ocultar el progreso de la secuencia de tareas, establezca el valor de esta variable en **True**. Para mostrar el progreso de la secuencia de tareas, establezca el valor de esta variable en **False**. | 
| SMSTSDisableStatusRetry | <!--512358--> En escenarios desconectados, el motor de secuencia de tareas intenta repetidamente enviar mensajes de estado al punto de administración. Este comportamiento en este escenario provoca retrasos en el procesamiento de la secuencia de tareas. A partir de Configuration Manager versión 1802, establezca esta variable en **True** y el motor de secuencia de tareas no intenta enviar mensajes de estado después de que el primer mensaje no se envíe. Este primer intento incluye varios reintentos.<br/><br/>Cuando se reinicia la secuencia de tareas, el valor de esta variable persiste. Pero la secuencia de tareas intenta enviar un mensaje de estado inicial. Este primer intento incluye varios reintentos. Si se realiza correctamente, la secuencia de tareas sigue enviando mensajes de estado independientemente del valor de esta variable. Si no se puede enviar el mensaje de estado, la secuencia de tareas usa el valor de esta variable.<br/><br/>NOTA: Los [informes de estado de la secuencia de tareas](/sccm/core/servers/manage/list-of-reports#task-sequence---deployment-status) se basan en estos mensajes de estado para mostrar el progreso, el historial y los detalles de cada paso. | 
|SMSTSLanguageFolder|Utilice esta variable para cambiar el idioma de visualización de una imagen de arranque independiente del idioma.|  
|SMSTSLocalDataDrive|Especifica la ubicación donde se almacenan los archivos temporales en el equipo de destino mientras la secuencia de tareas se ejecuta.<br /><br /> Esta variable se debe establecer antes de iniciar la secuencia de tareas (por ejemplo, estableciendo una variable de la colección). Una vez que se inicia la secuencia de tareas, Configuration Manager define la variable _SMSTSMDataPath.|  
|SMSTSMP|Use esta variable para especificar la dirección URL o IP de un punto de administración de Configuration Manager.|  
|SMSTSPeerDownload|Use esta variable para habilitar que el cliente use el almacenamiento en caché del mismo nivel en Windows PE.<br /><br /> Ejemplo:<br /><br /> SMSTSPeerDownload  = **TRUE** habilita esta funcionalidad.|  
|SMSTSPeerRequestPort|Puerto de red personalizado que la memoria caché de mismo nivel de Windows PE utiliza para la difusión inicial. El puerto predeterminado configurado en el cliente es 8004.|  
|SMSTSPersistContent|Utilice esta variable para conservar temporalmente contenido en la memoria caché de la secuencia de tareas.|  
|SMSTSPostAction|Especifica un comando que se ejecuta una vez completada la secuencia de tareas. Por ejemplo, puede usar esta variable para especificar un script que permite escribir filtros en los dispositivos incrustados después de la secuencia de tareas implemente un sistema operativo en el dispositivo.|  
|SMSTSPreferredAdvertID|Fuerza la secuencia de tareas para que ejecute una determinada implementación de destino en el equipo de destino. Establezca esta variable a través de un comando de preinicio desde un medio o PXE. Si esta variable se establece, la secuencia de tareas invalida todas las implementaciones necesarias.|  
|SMSTSPreserveContent|Esta variable marca la conservación del contenido de la secuencia de tareas en la memoria caché del cliente de Configuration Manager después de la implementación. Esta variable es diferente de SMSTSPersistContent, que solo conserva el contenido mientras dure la secuencia de tareas. SMSTSPersistContent usa la memoria caché de la secuencia de tareas, SMSTSPreserveContent usa la caché del cliente de Configuration Manager.<br /><br /> Ejemplo:<br /><br /> SMSTSPreserveContent = **TRUE** habilita esta funcionalidad.|  
|SMSTSRebootDelay|Especifica el número de segundos que se debe para esperar antes de reiniciar el equipo. Si esta variable es cero (0), el administrador de la secuencia de tareas no mostrará un cuadro de diálogo de notificación antes del reinicio.<br /><br /> Ejemplo:<br /><br /> **0**: no mostrar una notificación.<br /><br /> **60**: mostrar una notificación durante un minuto.|  
|SMSTSRebootMessage|Especifica el mensaje que se mostrará en el cuadro de diálogo de notificación de reinicio. Si esta variable no se establece, aparecerá un mensaje predeterminado.<br /><br /> Ejemplo:<br /><br /> **La secuencia de tareas está reiniciando este equipo**.|  
|SMSTSRebootRequested|Indica que se ha solicitado el reinicio una vez completado el paso actual de la secuencia de tareas. Si se requiere un reinicio, basta con establecer esta variable en **true**y el administrador de la secuencia de tareas reiniciará el equipo después de este paso de la secuencia de tareas. Si el paso de secuencia de tareas requiere un reinicio para completar la acción, establezca esta variable. Una vez reiniciado el equipo, la secuencia de tareas seguirá ejecutándose desde el paso siguiente de la secuencia de tareas.|  
|SMSTSRetryRequested|Solicita un reintento después de que se haya completado el paso actual de la secuencia de tareas. Si esta variable de secuencia de tareas se establece, **SMSTSRebootRequested** también debe establecerse en **true**. Una vez reiniciado el equipo, el administrador de la secuencia de tareas volverá a ejecutar el mismo paso de la secuencia de tareas.|  
|SMSTSUDAUsers|Especifica los usuarios principales del equipo de destino con el formato siguiente:<br /><br /> Ejemplo:<br /><br /> **dominio\usuario1, dominio\usuario2, dominio\usuario3.**<br /><br /> Separe varios usuarios con una coma (,). Para obtener más información, consulte [Associate users with a destination computer](../get-started/associate-users-with-a-destination-computer.md) (Asociar usuarios a un equipo de destino).|  
 
